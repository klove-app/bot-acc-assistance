"""
Конфигурационный файл для Telegram-бота с интеграцией Claude AI.
Содержит основные настройки, константы и сообщения.
"""

import os
from dotenv import load_dotenv

# Загружаем переменные окружения
try:
    load_dotenv()
except Exception as e:
    raise ValueError("Ошибка при загрузке файла .env: {}".format(e))

# Получаем значения из переменных окружения
TELEGRAM_TOKEN = os.getenv('TELEGRAM_TOKEN')
ANTHROPIC_API_KEY = os.getenv('ANTHROPIC_API_KEY')
PAYMENT_PROVIDER_TOKEN = os.getenv('PAYMENT_PROVIDER_TOKEN')

# Проверка наличия переменных
if not TELEGRAM_TOKEN or not ANTHROPIC_API_KEY or not PAYMENT_PROVIDER_TOKEN:
    raise ValueError("Отсутствуют необходимые переменные окружения")

# Тестовый токен для платежей через Telegram (для разработки)
# PAYMENT_PROVIDER_TOKEN = '1234567890:TEST:abcdefghijklmnopqrstuvwxyz'

# Настройки бота
MAX_HISTORY_LENGTH = 10
CLAUDE_MODEL = "claude-3-5-sonnet-20241022"
MAX_TOKENS = 15000  # Увеличено под возможности Claude 3.5 Sonnet

# Сообщения бота
MESSAGES = {
    "welcome": """Здравствуйте! Я - специализированный бот-ассистент по вопросам бухгалтерского учета в Румынии.

Я могу помочь вам с информацией о:
- Ведении бухгалтерского учета
- Налогообложении
- Финансовой отчетности
- Регистрации бизнеса
- Требованиях к документации
- Сроках подачи отчетности

Команды:
/start - Начать новый диалог
/clear - Очистить историю диалога
/help - Показать это сообщение

Просто задайте ваш вопрос, и я постараюсь помочь.
⚠️ Помните: мои ответы носят информационный характер и не заменяют консультацию квалифицированного бухгалтера.""",
    
    "history_cleared": "История диалога очищена.",
    
    "error": """Произошла ошибка при обработке вашего запроса. 
Пожалуйста, попробуйте позже или обратитесь к администратору.""",
    
    "rate_limit": "Превышен лимит запросов. Пожалуйста, подождите немного и попробуйте снова.",
    
    "timeout": "Превышено время ожидания ответа. Пожалуйста, попробуйте снова.",
    
    "maintenance": "Бот временно находится на техническом обслуживании. Пожалуйста, попробуйте позже."
}

# Настройки логирования
LOG_FORMAT = '%(asctime)s - %(name)s - %(levelname)s - %(message)s'
LOG_LEVEL = 'INFO'
